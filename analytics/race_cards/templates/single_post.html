{% extends "base.html" %}

{% block content %}
<div class="card card-post" style="display: flex; flex-direction: column;">
    <div class="hero-block">
        <div class="participant-name">{{ participant.name }}</div>
        {% if participant.club %}
        <div class="participant-club">{{ participant.club }}</div>
        {% endif %}

        <div class="time-block">
            <div class="hero-time-label">—Ñ–∏–Ω–∏—à–Ω–æ–µ –≤—Ä–µ–º—è</div>
            <div class="hero-time">{{ participant.time }}</div>
            <div class="race-name">{{ event.name }}</div>
        </div>
    </div>

    <div class="metrics-grid">
        {# Place - with medal for top 3 #}
        <div class="metric-card {% if participant.medal.value == 'gold' %}gold{% elif participant.medal.value == 'silver' %}silver{% elif participant.medal.value == 'bronze' %}bronze{% endif %}">
            <div class="metric-value">
                {% if participant.medal.value == 'gold' %}<span class="medal-icon">ü•á</span>{% endif %}
                {% if participant.medal.value == 'silver' %}<span class="medal-icon">ü•à</span>{% endif %}
                {% if participant.medal.value == 'bronze' %}<span class="medal-icon">ü•â</span>{% endif %}
                {{ participant.place }}
            </div>
            <div class="metric-label">–º–µ—Å—Ç–æ</div>
        </div>

        {# Category place #}
        {% if participant.place_category %}
        <div class="metric-card">
            <div class="metric-value">{{ participant.place_category }}</div>
            <div class="metric-label">–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</div>
        </div>
        {% else %}
        <div class="metric-card">
            <div class="metric-value">‚Äî</div>
            <div class="metric-label">–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</div>
        </div>
        {% endif %}

        {# Pace #}
        {% if participant.pace %}
        <div class="metric-card">
            <div class="metric-value">{{ participant.pace }}</div>
            <div class="metric-label">–º–∏–Ω/–∫–º</div>
        </div>
        {% else %}
        <div class="metric-card">
            <div class="metric-value">‚Äî</div>
            <div class="metric-label">—Ç–µ–º–ø</div>
        </div>
        {% endif %}

        {# Category #}
        {% if participant.category %}
        <div class="metric-card">
            <div class="metric-value">{{ participant.category }}</div>
            <div class="metric-label">–∫–∞—Ç–µ–≥–æ—Ä–∏—è</div>
        </div>
        {% else %}
        <div class="metric-card">
            <div class="metric-value">‚Äî</div>
            <div class="metric-label">–∫–∞—Ç–µ–≥–æ—Ä–∏—è</div>
        </div>
        {% endif %}

        {# Distance or Race name #}
        {% if participant.distance_km %}
        <div class="metric-card">
            <div class="metric-value">{{ participant.distance_km|int }} –∫–º</div>
            <div class="metric-label">–¥–∏—Å—Ç–∞–Ω—Ü–∏—è</div>
        </div>
        {% elif participant.race %}
        <div class="metric-card accent">
            <div class="metric-value">{{ participant.race }}</div>
            <div class="metric-label">–¥–∏—Å—Ç–∞–Ω—Ü–∏—è</div>
        </div>
        {% else %}
        <div class="metric-card">
            <div class="metric-value">‚Äî</div>
            <div class="metric-label">–¥–∏—Å—Ç–∞–Ω—Ü–∏—è</div>
        </div>
        {% endif %}

        {# Gender place #}
        {% if participant.place_gender %}
        <div class="metric-card">
            <div class="metric-value">{{ participant.place_gender }}¬∞</div>
            <div class="metric-label">–∞–±—Å–æ–ª—é—Ç {{ participant.gender_label }}</div>
        </div>
        {% else %}
        <div class="metric-card">
            <div class="metric-value">‚Äî</div>
            <div class="metric-label">–∞–±—Å–æ–ª—é—Ç</div>
        </div>
        {% endif %}
    </div>

    <div class="card-footer">
        <div class="footer-credits">
            <span><span class="label">–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä</span> <span class="value">{{ event.organizer }}</span></span>
            <span><span class="label">–•—Ä–æ–Ω–æ–º–µ—Ç—Ä–∞–∂</span> <span class="value">{{ event.timing_provider }}</span></span>
            <span><span class="label">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ</span> <span class="ayda-val">ayda<span class="beta">Œ≤</span></span></span>
        </div>
    </div>
</div>
{% endblock %}
