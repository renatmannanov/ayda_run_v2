# BACKLOG - Невыполненные задачи Ayda Run v2

**Дата обновления:** 2025-12-22

## P0 - Критичные задачи

### 1. Тестирование P0 функционала в production
**Источник:** mvp_readiness_plan.md
**Цель:** Проверить работоспособность всех основных сценариев на production окружении
- Создание клуба
- Отправка заявки → уведомление админу → approve → уведомление пользователю
- Создание активности → уведомление участникам клуба
- Запись на активность
- Онбординг через `/start`
- Deep link invitations
- Команды `/requests` и `/my_requests`

---

## P2 - Желательные задачи

### 3. Клич (Broadcast invite)
**Цель:** Организатор может раз в неделю/месяц отправить приглашение на публичную активность всем пользователям с подходящим видом активности
**MVP-оценка:** ⭐⭐ Интересная фича для привлечения участников

**Открытые вопросы:**
- Частота: раз в неделю или раз в месяц?
- Только на публичные активности?
- Push-уведомление или сообщение в боте?

**Задачи:**
- Хранить дату последнего клича для каждого пользователя
- Endpoint для отправки клича
- Фильтрация получателей по типу активности
- Лимит частоты (rate limiting)
- UI кнопка "Сделать клич" на странице активности

### 4. Расписание клуба (Schedule)
**Цель:** Команда бота для генерации красивого сообщения с расписанием тренировок клуба
**MVP-оценка:** ⭐⭐⭐ Полезно для продвижения клубов, виральность

**Сценарии использования:**
- `/schedule` в личке бота → получить расписание своих клубов
- `/schedule` в группе → расписание клуба, привязанного к группе
- Пользователь пересылает сообщение друзьям/в другие чаты

**Задачи:**
- Команда `/schedule [club_id]` для бота
- Форматирование: дни недели, время, тип активности, место
- Inline-кнопка "Открыть в приложении"
- Поддержка в групповых чатах

### 5. Analytics Dashboard
**Источник:** dashboard_plan_v1.md
**Цель:** Базовый дашборд с метриками для админов
**MVP-оценка:** ⭐⭐ Полезно для понимания роста, но не блокирует запуск

**Phase 1 (MVP Dashboard):**
- Endpoint `/api/admin/analytics`
- Метрики: users (total, active_7d, new_7d), clubs (total, with_activities), activities (total, upcoming, completed, cancelled, avg_participants)
- Простая страница в admin panel с карточками

### 6. Strava Integration
**Источник:** accesses_plan_v1.md
**Цель:** Добавить поддержку ссылки на Strava профиль
**MVP-оценка:** ⭐ Nice-to-have, можно отложить

**Задачи:**
- Добавить поле `strava_link` в User модель
- Обновить onboarding - добавить шаг запроса ссылки (опционально)
- Отображать в профиле и при заявках на вступление

### 7. Страница "Мои заявки" для пользователя
**Источник:** accesses_final_summary.md
**Цель:** UI страница для просмотра статуса заявок на вступление
**MVP-оценка:** ⭐⭐ Полезно для UX, но команда `/my_requests` покрывает базовый функционал
- Список всех pending заявок
- История одобренных/отклоненных заявок

### 8. Фильтр "только открытые" в списках
**Источник:** accesses_final_summary.md
**Цель:** Добавить фильтр для показа только открытых клубов/групп/активностей
**MVP-оценка:** ⭐ Можно отложить до появления большого количества клубов

### 9. Unit и Integration тесты для Access Control
**Источник:** accesses_plan_v1.md, accesses_final_summary.md
**Цель:** Покрыть тестами систему контроля доступа
**MVP-оценка:** ⭐⭐ Важно для стабильности, но можно добавить после запуска

---

## P3 - Будущие улучшения (после запуска)

### 10. Event Tracking и Session Analytics
**Источник:** dashboard_plan_v1.md
**Цель:** Продвинутая аналитика использования приложения
**Когда:** После 200+ пользователей

### 12. Database Indexes
**Источник:** plan_1_done.md
**Цель:** Оптимизация запросов (если потребуется при росте)

### 13. i18n (многоязычность)
**Источник:** onboarding_plan_v1_done.md
**Цель:** Поддержка нескольких языков в боте и webapp

### 14. A/B тестирование текстов
**Источник:** onboarding_plan_v1_done.md
**Цель:** Оптимизация конверсии онбординга через тестирование вариантов текстов

---

## Улучшения

### 1 Унификация функций подтверждения участия
**Цель:** Продумать единую логику для схожих функций в клубах и группах
**Открытые вопросы:**
- Как связать чекин организатора (отметить участника) и самостоятельное подтверждение посещения участником?
- Должны ли эти действия синхронизироваться?
- Кто имеет приоритет: организатор или участник?

У активности есть "длительность" и вот после этой длительности можно запускать чекин и подтверждение. Тем более будет актуально после долгих хайкингов, чтобы чекнуть что все вернулись.

### 2 Ссылки для клубов и групп
**Цель:** Добавить возможность указывать ссылки на внешние ресурсы для клубов и групп
**Задачи:**
- Соцсети (Instagram, Telegram канал, VK и т.д.)
- Strava клуб
- Таблицы (Google Sheets для расписания, результатов)
- Другие ссылки (сайт, YouTube канал)


## Доработки

1. Синхронизация онбординга с новыми изменениями
**Задачи:**
- Онбординг пользователя: добавить виды активностей, Strava link, видимость аватарки
- Онбординг организатора клуба: добавить видимость и доступность клуба

2. в баре управления где Хоум, клубы, я, +
я заменить на Профиль
иконку я сделать меньше как остальные

3. на каждый экран сделать кнопку основной / дополнительной активностию

сейчас есть:
хоум - текущая неделя
детали активности - записаться, поделиться, зачекиниться

нужно:
клубы / группы - вступить, предложить тренировку


## Аналитика для админа

1. Статистика скачиваний GPX
**Цель:** Отслеживать количество скачиваний GPX файлов у тренировок
**Задачи:**
- Добавить счётчик скачиваний GPX для каждой активности
- Инкрементировать при скачивании файла
- Отображать в статистике активности